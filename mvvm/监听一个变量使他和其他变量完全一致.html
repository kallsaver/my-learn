<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		
		var a = { 
			zhihu : {
				num : 0
			}
		};
		
		var b = { 
			zhihu : {
				num : 0
			}
		};
		function watchBind(){
			Object.defineProperty(a.zhihu, 'num', {
			    enumerable: true,   // 可枚举
		        configurable: true, // 可重新定义
			    get: function() {
				  	console.log('5555',num)
				    console.log('get：' + num);
				    return num;
			  	},
				  set: function(value) {
				    num = value;
				    console.log('set:' + num);
				    b.zhihu.num = value;
				  }
			});
		}
		
		watchBind();
		a.zhihu.num = 2; // set:2
		console.log('a.zhihu.num',a.zhihu.num);
		console.log(b.zhihu.num); // get：2

		a.zhihu.num = 200; // set:2
		console.log('b.zhihu',b.zhihu.num);
		
		setTimeout(function(){
			a.zhihu.num = 300;
		},3000)
		
		setInterval(function(){
			console.log('b.zhihu',b.zhihu.num);
		},1000);
		
	</script>
</html>
