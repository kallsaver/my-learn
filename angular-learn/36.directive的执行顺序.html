<!DOCTYPE html>
<html ng-app="myApp">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{margin: 0;padding: 0;}
			li{list-style: none;line-height: 40px;background: peru;color: #fff;text-align: center;}
		</style>
	</head>
	<body ng-controller="myCtrl">
		<!--哪个指令写在前面,哪个指令先执行-->
		<div auto></div>
		<div move></div>
		<div first second></div>
		<ul>
			<li ng-repeat="item in List" ng-bind="item"></li>
		</ul>
		<ng-view></ng-view>
	</body>
	<script src="js/angular.js"></script>
	<script src="js/angular-route.min.js"></script>
	<script>
		//directive优先级:
		//路由模块的ng-view优先级第一
		//同步的先执行,异步的后执行,异步是指有templateUrl属性而且是外联模板
		//其它的directive不分主模块和次模块,谁在html页面中写在前面谁先执行
		//在html页面同一个DOM元素出现,有template(必须是同步的)的directive优先执行,如果都有template属性会报错
		//priority权级无法控制谁先执行,可是priority和terminal结合可以让priority权级低的不执行
		
		var other = angular.module('other',[]);
		
		other.directive('move',[function(){
			return {
				restrict : 'EA',
				link : function($scope,element,attrs,controller){
					console.log('other');
				}
			}
		}])
		
		other.directive('second',[function(){
			return {
				restrict : 'EA',
				priority : 4,
				link : function($scope,element,attrs,controller){
					console.log('second');
				}
			}
		}])
		
		//其他模块是没有contoller的,其他模块只能在directive中写controller或者申明filter等辅助功能
		other.controller('otherCtrl',function(){
			console.log('otherCtrl');             //不执行
		});
		
		var app = angular.module('myApp',['other','ngRoute']);
		
		app.directive('auto',[function(){
			return {
				restrict : 'EA',
				link : function($scope,element,attrs,controller){
					console.log('auto');
				}
			}
		}])
		
		other.directive('first',[function(){
			return {
				restrict : 'EA',
				priority : 1,
				link : function($scope,element,attrs,controller){
					console.log('first');
				}
			}
		}])
		
		app.controller('myCtrl',['$scope',function($scope){
			console.log('myCtrl');
			$scope.List = [1,2,3];
		}])
		
		app.config(function(){
			console.log('路由模块执行');
		})
	</script>
</html>
