<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		//es5的函数
		var $scope = {
			name : "$scope"
		}
		
		function controller($scope){
			console.log(this);
			this.init = function(){
				console.log('你好啊')
			}
			
			$scope.fn = function(){
				console.log('fn')
			}
			
			$scope.printf = function(){
				console.log(this);
				this.init();
			}.bind(this);
			
			//在$scope下定义函数,那么这个函数就是$scope的,也就是里面的this是$scope的
			$scope.es5fn = function(){
				console.log(this);    //$scope
				this.fn();
			}
			
			$scope.es5fn();
			
			$scope.printf();
		}
		
		var vm = new controller($scope);
		
		
		//es6的箭头函数和es5的function定义函数this的区别
		
		$scope.es6fn = function(){
			
			
			console.log(this);      //$scope  这个空间的this是$scope的,也就是说a和b的外部空间的this是$scope
			
			//箭头函数
			// 变量 = 函数的参数,如果没,那么写(),  =>{}
			var a = ()=>{
				console.log(this);  //$scope
			}
			
			var b = function(){
				console.log(this);  //window
			}
			
			b();
			
			a();
			
			//箭头函数的this是外界的this
			//所以构造函数只能使用es5定义函数的方式,不能使用箭头函数
		}
		
		$scope.es6fn();
		
	</script>
</html>
