<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="app">
			<!--<span v-run="reigster('test')"></span>-->
			<div>
				<ul>
					<li v-for="item in produceList" v-text="item.remain" v-run v-bind:data-value="item.remain"></li>
				</ul>
			</div>
		</div>
	</body>
	<script src="js/vue2.0.js"></script>
	<script src="js/jquery-3.1.0.js"></script>
	<script>
		
		Vue.directive('run',{
			bind : function(element,binding,scope,f){
				//console.log('binding',binding)
				console.log('scope',scope);
				//console.log(scope.data.domProps)
				//console.log('f',f)
				//console.log($(element).find('li'));
				//var $li = $(element).find('li');
				//console.log($(element).text());
				console.log( scope.data.attrs['data-value'] )
				if( scope.data.attrs['data-value'] === '8' ){
					$(element).css({
						color : 'gold'
					})
				}
				$(element).on('click',function(){
					if( scope.data.attrs['data-value'].indexOf('0') !== -1 ){
						return
					}
					alert(44)
					console.log($(this).text())
				});
			},
		});
		
		var vm = new Vue({
			el : '#app',
			data : {
				produceList : [
					{ id : 1 , name : 'a' , remain : '1'},
					{ id : 2 , name : 'b' , remain : '0'},
					{ id : 3 , name : 'c' , remain : '8'},
					{ id : 4 , name : 'c' , remain : '0'},
				]
			},
//			directive : {
//				run : {
//					bind : function(){
//						alert(1)
//					}
//				}
//			},
			mounted : function(){
				var vm = this;
				console.log(vm)
			},
			methods : {
				reigster : function(a){
					console.log(a)
					console.log(111)
				}
			},
			
		});
		
		
		
		
	</script>
</html>
