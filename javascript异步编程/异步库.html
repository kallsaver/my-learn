<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script src="js/promise.js"></script>
	<script src="js/jquery-3.1.0.js"></script>
	<script>
		
//		function late(n){
//			var p = new promise.Promise()
//			setTimeout(function(){
//				console.log('异步任务')
//				p.done(null,n)
//			},n)
//			return p;
//		}
//		
//		late(100).then(function(err,n){
//			console.log('then执行')
//			console.log(err,n)
//		})
		
//		var a = (function(){
//			var p = new promise.Promise()
//			setTimeout(function(){
//				console.log('异步任务')
//				p.done(null)
//			},1000)
//			return p;
//		})();
//		
//		a.then(function(){
//			console.log('then执行')
//		});
		
		
//		var b = (function(){
//			var p = new promise.Promise()
//			$.get('data/persons.json').then(function(res){
//				console.log(res)
//				console.log('异步任务')
//				p.done(null)
//			})
//			return p;
//		})();
//		
//		b.then(function(){
//			console.log('promise的then执行')
//		})

		
		var p = new promise.Promise()
		function run(){
			
			setTimeout(function(){
				console.log('setTimeout执行');
				//p.done();
			},3000)
			return p;
		}
		
		var wait = run();
		
		var wait = {}
		
		wait.then(function(){
			console.log('then执行')
		});
		
		setTimeout(function(){
			p.done();
		},5000)
		
		
		
	</script>
</html>
