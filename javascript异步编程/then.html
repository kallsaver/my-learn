<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="div" style="width:100px;height: 100px;background: red;"></div>
	</body>
	<script src="js/jquery-3.1.0.js"></script>
	<script>
		var url = './data/persons.json'
//		$.get(url).then(function(data){
//			console.log(data)
//		},function(){
//			alert('加载失败')
//		}).then(function(data){
//			console.log(444)
//		});
		
		
		// jquery牛逼
		function run(){
			return $.get(url).then(function(data){
				console.log(data)
			},function(){
				alert('加载失败')
			});
		}
		
		run().then(function(){
			console.log(555)
		});
		
		
		function test(){
			var def3 = $.Deferred();
			function wait3(def){
				def.reject();
				setTimeout(function(){
					console.log('setTimeout执行');
					def.resolve();
				},2000);
				
				return def.promise();
			}
			return  wait3(def3);
		}
		
		// jQuery中只要是异步对象都有then方法
		test().then(function(){
			console.log('promise')
		});
		
		
	</script>
</html>
