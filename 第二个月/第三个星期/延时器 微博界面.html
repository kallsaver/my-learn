<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0px;padding:0px;font-size:0px;}
.wrap{padding-top:50px;padding-left:50px;}

ul{list-style:none;}

li{margin-bottom:40px;width:500px;height:200px;background:#e98758;}

li span {width:80px;height:80px;border-radius:50%;overflow:hidden;float:left;margin:10px 0px 0px 10px;display:block;}
img{width:100%;}
.pop{width:300px;height:100px;position:absolute;left:200px;top:10px;background:red;display:none;}
</style>

<script>
//点击头像 延迟两秒出现弹窗 
window.onload=function(){
	arr=[	
			{"name":"小熊猫","profile":"别问了 不能养"},
			{"name":"网易云音乐","profile":"网易云音乐官方微博"},
			{"name":"使徒子","profile":"漫画家、景观设计师、代表作《脑洞我个超市》《一条狗》 微博签约自媒体"},
			{"name":"小野妹子学吐槽","profile":"微博知名博主"},
			{"name":"新浪官方微博","profile":"网易云音乐官方微博"},
			{"name":"沧月","profile":"畅销书作者，兼三流的建筑师。擅写幻想类小说。作品包括《羽》《镜》《听雪楼》《七夜雪》"}
	]
	
	var ul=document.getElementsByTagName("ul")[0];
	//只要结构中有些pop 即使display=none 也可以从document中得到
	var Opop=document.getElementsByClassName("pop")[0];
	//alert(Opop)
	var aImg=document.getElementsByTagName("img");
	var wrap=document.getElementsByClassName("wrap")[0];
	
		for(var i=0;i<arr.length;i++){
			var li=document.createElement("li");
			li.innerHTML='<span><img classname="up" src="images/'+(i+13)+'.jpg"></span>';
			li.setAttribute("index",i);
			ul.appendChild(li);
		}
		
		
		var appear=null;
		var disappear=null;
		//onmousemove是一个循环事件 只要鼠标在移动 里面的语句就不断执行
		wrap.onmousemove=function(ev){
			ev=ev||event;
			//事件源  w3c:鼠标的目标   IE:鼠标的源元素
			var evsrc=ev.target||ev.srcElement;
			
			
			
			//如果事件源是自己 那么
			if((evsrc.nodeName!="IMG")&&(evsrc.nodeName!="SPAN")){
				clearTimeout(appear)
				//这里删除延时器的位置很重要   
				clearTimeout(disappear)	;				
				disappear=setTimeout(function(){
									
					Opop.style.display="none";
				},1000)
			}
			//儿子在父亲的上面 只能找img img100%span　不能找span
			if(evsrc.nodeName=="IMG"){	
				clearTimeout(disappear)	;		
				appear=setTimeout(function(){
					clearTimeout(appear)				
					Opop.style.display="block";
					Opop.style.top=evsrc.offsetTop+"px";
					var a=evsrc
					return a;			
				},1000)
			}
			
			if(evsrc.nodeName=="SPAN"){	
				clearTimeout(disappear)	;
				clearTimeout(appear)
				console.log(disappear)
				Opop.style.display="block";
				Opop.style.top=appear.offsetTop+"px";
			}
		}
		


		
		



}

</script>
</head>

<body>
<div class="wrap">
<span class="pop up"></span>
	<ul>
<!--    	<li>
        	<span><img src="images/13.jpg"></span>
       	</li>
        
        <li>
        	<span><img src="images/14.jpg"></span>
       	</li>
		
        <li>
        	<span><img src="images/15.jpg"></span>
       	</li>
        
        <li>
        	<span><img src="images/16.jpg"></span>
       	</li>
        
        <li>
        	<span><img src="images/17.jpg"></span>
       	</li>
     	
        <li>
        	<span><img src="images/18.jpg"></span>
       	</li>-->
        
    </ul>
</div>

</body>
</html>
