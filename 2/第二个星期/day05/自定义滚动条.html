<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{ margin:0; padding:0}
.box{ width:300px; height:500px; border:1px solid #000; margin:100px; position:relative; overflow:hidden}
p{ position:absolute; padding-right:30px}
.scroll{ position:absolute; width:20px; height:50px; background:#ccc; top:0; right:0}
</style>
<script>
	window.onload=function(){
		var scroller=document.getElementsByClassName('scroll')[0];
		var oBox=document.getElementsByClassName('box')[0];
		var oP=document.getElementsByTagName('p')[0];
		
		//拖拽滚动条
		scroller.onmousedown=function(e){
			//记录偏移
			e=e||event;
			var disY=e.clientY-scroller.offsetTop;//只取纵向
			
			//移动
			document.onmousemove=function(e){
				e=e||event;
				var t=e.clientY-disY;
				//限制移动范围-------------------------
				if(t<0){
					t=0;
				};
				if(t>oBox.offsetHeight-scroller.offsetHeight-2){
					t=oBox.offsetHeight-scroller.offsetHeight-2;
				};
				scroller.style.top=t+'px';
				
				//计算移动比例------------------------
				var rate=t/(oBox.offsetHeight-scroller.offsetHeight-2);
				
				//console.log(rate);
				oP.style.top=-(oP.offsetHeight-oBox.offsetHeight)*rate+'px';
				
				
				
			};
			
			
			//停止拖拽
			document.onmouseup=function(){
				document.onmousemove=null;
			};
			return false;
		}


	}




</script>



</head>

<body>
<div class="box">
	<p>Yahoo、Microsoft、Google为首的大公司，反对JavaScript的大幅升级，主张小幅改动；以JavaScript创造者Brendan Eich为首的Mozilla公司，则坚持当前的草案。 2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激进，ECMA开会决定，中止ECMAScript 4.0的开发，将其中涉及现有功能改善的一小部分，发布为ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为Harmony（和谐）。会后不久，ECMAScript 3.1就改名为ECMAScript 5。 ECMAScript是一种由Ecma国际（前身为欧洲计算机制造商协会,英文名称是EuropeanYahoo、Microsoft、Google为首的大公司，反对JavaScript的大幅升级，主张小幅改动；以JavaScript创造者Brendan Eich为首的Mozilla公司，则坚持当前的草案。 2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激进，ECMA开会决定，中止ECMAScript 4.0的开发，将其中涉及现有功能改善的一小部分，发布为ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为Harmony（和谐）。会后不久，ECMAScript 3.1就改名为ECMAScript 5。 ECMAScript是一种由Ecma国际（前身为欧洲计算机制造商协会,英文名称是EuropeanYahoo、Microsoft、Google为首的大公司，反对JavaScript的大幅升级，主张小幅改动；以JavaScript创造者Brendan Eich为首的Mozilla公司，则坚持当前的草案。 2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激进，ECMA开会决定，中止ECMAScript 4.0的开发，将其中涉及现有功能改善的一小部分，发布为ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为Harmony（和谐）。会后不久，ECMAScript 3.1就改名为ECMAScript 5。 ECMAScript是一种由Ecma国际（前身为欧洲计算机制造商协会,英文名称是EuropeanYahoo、Microsoft、Google为首的大公司，反对JavaScript的大幅升级，主张小幅改动；以JavaScript创造者Brendan Eich为首的Mozilla公司，则坚持当前的草案。 2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激进，ECMA开会决定，中止ECMAScript 4.0的开发，将其中涉及现有功能改善的一小部分，发布为ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为Harmony（和谐）。会后不久，ECMAScript 3.1就改名为ECMAScript 5。 ECMAScript是一种由Ecma国际（前身为欧洲计算机制造商协会,英文名称是European</p>
    <div class="scroll"></div>


</div>
</body>
</html>
