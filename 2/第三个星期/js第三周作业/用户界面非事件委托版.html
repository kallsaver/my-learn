<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>

*{margin:0px;padding:0px;font-size:0px;}
.wrap{padding-top:50px;padding-left:50px;}

ul{list-style:none;}

li{margin-bottom:40px;width:500px;height:200px;background:#e98758;}

li span {width:80px;height:80px;border-radius:50%;overflow:hidden;float:left;margin:10px 0px 0px 10px;display:block;}
img{width:100%;}
.pop{width:300px;height:150px;position:absolute;left:200px;top:10px;background:red;display:none;}
.top{height:50%;background:url(images/010_m.jpg) no-repeat;background-size:cover;text-align:center;}

.bot{height:50%;background:#fff;text-align:center;}

.pop .pic{width:40px;height:40px;border-radius:50%;display:inline-block;margin-top:50px;overflow:hidden;}
.pop h3{font-size:12px;line-height:46px;}
.pop p{font-size:11px;line-height:20px;margin-top:-16px;}

</style>

<script>
//事件委托找的事件源只能是最上面的元素  下层被覆盖的父元素是找不到的
//点击头像 延迟0.5秒出现弹窗  如果鼠标滑到或者头像弹窗并一直停留 弹窗不会消失  也不会出现弹窗闪烁  
//只要就0.5秒里从头像或者弹窗滑到 非停留显示区又滑回来 弹窗不会显示 也不会闪烁  这是很重要的用户交互体验 
window.onload=function(){
	arr=[	
			{"name":"小熊猫","profile":"简介：别问了 不能养"},
			{"name":"网易云音乐","profile":"简介：网易云音乐官方微博"},
			{"name":"使徒子","profile":"简介：漫画家、景观设计师、代表作《脑洞我个超市》《一条狗》 微博签约自媒体"},
			{"name":"小野妹子学吐槽","profile":"简介：微博知名博主"},
			{"name":"新浪官方微博","profile":"简介：新浪官方微博"},
			{"name":"沧月","profile":"简介：畅销书作者，兼三流的建筑师。擅写幻想类小说。作品包括《羽》《镜》《听雪楼》《七夜雪》"}
	]
	
	var ul=document.getElementsByTagName("ul")[0];
	//只要结构中有些pop 即使display=none 也可以从document中得到
	var Opop=document.getElementsByClassName("pop")[0];
	//alert(Opop)
	for(var i=0;i<arr.length;i++){
		//创造对象用document  删除对象和插入对象要找到父级
		var li=document.createElement("li")
		li.innerHTML='<span><img src="images/'+(i+13)+'.jpg"></span>';
		ul.appendChild(li);
	}
	
	var aImg=document.getElementsByTagName("img");
	
	//全局变量 下面的函数可以操控改变它的值和内容
	var appear=null;
	var disappear=null;
	
	
			
			
	
	for(var j=0;j<aImg.length;j++){
		aImg[j].index=j
		aImg[j].onmousemove=function(){;
			var _this=this;
			
			//appear=null;  1->其他->1  1的语句还存在 2的语句已经被清空     
			clearTimeout(disappear)
			//其他->1->其他  onmousemove是持续事件  这个过程要不断删除不断生成的appear定时器，最后一个appear都没生成
			clearTimeout(appear)
			//1
			appear=setTimeout(function(){				
				Opop.style.top=_this.offsetTop+"px";
				Opop.style.left=200+"px";
				Opop.style.display="block";	
			},500)
			
			
			this.onmouseleave=function(){
				//mouseleave和mousemove是持续事件 对定时器的精确要求不高 位置放对就可以了
				//2  
				clearTimeout(appear)
				
			  disappear=setTimeout(function(){
				  
				  Opop.style.display="none";	
			  },500)
			}
			
			Opop.onmousemove=function(){
				//3  把1->2->3过程中所有的disappear清掉
				clearTimeout(disappear)
		
				Opop.onmouseleave=function(){
					//4  disappear被null了 disappear里面的语句也被清除 所以重新写一遍disappear里面的语句
					disappear=setTimeout(function(){
				  		Opop.style.display="none";	
			  		},500)
				}
			}
			
			
			
			
			
		}
		
		
		
		
		
	}
	
	

}

</script>
</head>

<body>
<div class="wrap">
    <span class="pop up">
    <!--	<div class="top">
              <div class="up"> up起到开关的作用
              <div class="pic"><img src="images/13.jpg"></div>
              </div>
        </div>
        <div class="bot">
            <div class="up">
              <h3>小熊猫</h3>
              <p>简介</p>
            </div>
        </div>-->
    </span>
	<ul>
<!--    	<li>
        	<span><img src="images/13.jpg"></span>
       	</li>
        
        <li>
        	<span><img src="images/14.jpg"></span>
       	</li>
		
        <li>
        	<span><img src="images/15.jpg"></span>
       	</li>
        
        <li>
        	<span><img src="images/16.jpg"></span>
       	</li>
        
        <li>
        	<span><img src="images/17.jpg"></span>
       	</li>
     	
        <li>
        	<span><img src="images/18.jpg"></span>
       	</li>-->
        
    </ul>
</div>

</body>
</html>