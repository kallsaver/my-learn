<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		
		var str1 = 'http://localhost:3000/pcsite/orgs/detail/?id=992&set_city=200';
		var str2 = 'http://localhost:3000/pcsite/orgs/detail/?id=992?set_city=200';
		var str3 = 'http://localhost:3000/pcsite/orgs/detail/?&id=992?&set_city=200';
		var str3 = 'http://localhost:3000/pcsite/orgs/detail/?id=992&set_city=200?kk=fdf';
		var str3 = 'http://localhost:3000/pcsite/orgs/detail/?id=992&set_city=200?kk=fdf&set_city=300';
		
		function getUrlParam (currentUrl){
    		var result = {};
			currentUrl = currentUrl.replace(/(.*?)\?/,'');
			if( currentUrl.indexOf('=') === -1 ){
				return;
			}
			var arr = currentUrl.match(/[^&?]+?=[^&?]*/g).join('=').split('=');
			for(var i = 0; i < arr.length; i += 2){
				result[arr[i]] = arr[i+1];
			}
			return result;
    	}
		
		console.log(getUrlParam(str1));
		console.log(getUrlParam(str2));
		console.log(getUrlParam(str3));
		
	</script>
</html>
