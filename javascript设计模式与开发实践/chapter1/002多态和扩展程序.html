<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		// 不具有扩展性体现对象的多态性的代码:
		// var makeSound = function(animal){
		// 	if (animal instanceof Duck) {
		// 		console.log('嘎嘎嘎')
		// 	} else if (animal instanceof Chicken) {
		// 		console.log('咯咯咯')
		// 	}
		// }

		// var Duck = function() {}
		// var Chicken = function() {}

		// makeSound(new Duck())
		// makeSound(new Chicken())

		// 多态背后的思想是将'做什么'和'谁去做以及怎么去做'分离开,也就是将不变的事物和可能改变的事物分离开
		// 所以把不变的部分提取出来,可变的部分隔离出来
		// 具有扩展性体现对象的多态性的代码:
		var makeSound = function (animal) {
			// animal其实是个超类型
			animal.sound()
		}

		var Duck = function () {}

		Duck.prototype.sound = function () {
			console.log('嘎嘎嘎')
		}

		var Chicken = function() {}

		Chicken.prototype.sound = function() {
			console.log('咯咯咯')
		}

		makeSound(new Duck())
		makeSound(new Chicken())

		// 这样如果有一天增加一只狗,这时候就不需要改makeSound函数,只要加一行代码即可
		var Dog = function() {}

		Dog.prototype.sound = function() {
			console.log('汪汪汪')
		}

		makeSound(new Dog())

		var Cat = function (name) {
			this.name = name || ''
			console.log(name)
		}

		Cat.prototype.sound = function () {
			console.log('喵喵喵')
		}

		// 共享 私有
		function makeSpeak(obj) {
			obj.sound()
		}

		var cat1 = new Cat('猫一')
		var cat2 = new Cat('猫而')

		makeSpeak(cat1)
		makeSpeak(cat2)
		console.log(cat1)
		console.log(cat2)
	</script>
</html>
