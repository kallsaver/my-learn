<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0}
div{line-height:30px;font-size:14px;color:red}
.show{width:500px;height:400px;border:1px solid red;size:10;word-break:break-all;overflow:auto}
#message{height:30px;margin-top:20px;}
.box{width:600px;margin:100px auto;}


</style>

<script src="jQuery_lib/jquery-3.1.0.min.js"></script>

<script>
	$(function(){
		
		
		$("button").on("click",function(){
			
			var content=$("#message").val()
			//append相当于innerHTML 可以写结构 text()是获取文本内容
			$("<div>").append(content).appendTo($(".show"))
			
			
			//scrollHeight是元素的所有子元素和自身的最大高度    .scrollTop()是jquery元素上的滚动条距离这个元素顶部的距离 
			//滚动条是封装在scrollTop()里 所以自动生成    固有属性用prop方法
		
			$(".show").scrollTop($(".show").prop('scrollHeight'))
			
			
			$("#message").val(null)
			
		
		})
		
		//input框上回车 有发送的功能 (调用button的click事件)      		
		//事件的匿名函数只有一个变量 而jquery上设置这个变量就是鼠标键盘 所以不用写ev=ev||event;  javascript写ev=ev||event是解决兼容性
		//而jquery已经解决兼容性问题了 	
		$("#message").on("keyup",function(ev){	
				if(ev.keyCode==13){
					
					//事件触发  调用$("button")对象 onclick事件的函数体
					$("button").trigger('click')
				}
		})
			
	})

</script>

</head>

<body>


<div class="box">
    <div class="show"></div>
    
    <input type="text" id="message">
    
    <button>发送</button>
</div>

</body>
</html>
