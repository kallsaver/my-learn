<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link href="css/ionic.min.css" rel="stylesheet">
    <script src="lib/ionic.bundle.min.js"></script>
    <script>
        var myapp=angular.module("myapp",["ionic"])

        myapp.config(function($stateProvider,$urlRouterProvider){
            $stateProvider.state("view1",{
                url:"/page1",
                templateUrl:"page1.html"   //内联模板的id
            })

            $stateProvider.state("view2",{
                url:"/page2",
                templateUrl:"page2.html"
            })
            //默认路由:
            $urlRouterProvider.otherwise("/page2")

        })

        //顶层控制器
        myapp.controller("myCtrl",function($scope,$state){
            $scope.go=function(stateName){
                $state.go(stateName)
            }
        })
        //各级控制器
        myapp.controller("page1Ctrl",function($scope){
            $scope.message="this is page1"
        })

        myapp.controller("page2Ctrl",function($scope){
            $scope.message="this is page2"
        })



    </script>
</head>
<body ng-app="myapp" ng-controller="myCtrl">
<!--男装页面,标题栏显示的是"男装",女装页面,标题栏显示的是"女装"
也就是说,导航栏会随着子视图/状态的改变而改变  在子视图的ion-view 上添加view-title-->
<!--header-->
<ion-nav-bar class="bar-positive" ></ion-nav-bar>
<!--content  两个状态view1 view2-->
<ion-nav-view></ion-nav-view>
<!--footer-->
<ion-footer-bar class="bar-positive"></ion-footer-bar>

<!--内联模板放在/body之前-->
<script type="text/ng-template" id="page1.html" >
    <ion-view view-title='page1'>
        <ion-content ng-controller="page1Ctrl">
            <p>这是第一个页面</p>
            <p>{{message}}</p>
            <p><a ui-sref='view2'>to page2</a></p>
            <br>
            <p><a href="#page2">to page2</a></p>
            <br>
            <p><button class="button button-balanced button-outline" ng-click="go('view2')">go page2</button></p>
        </ion-content>
    </ion-view>
</script>

<script type="text/ng-template" id="page2.html" >
    <ion-view view-title='page2'>
        <ion-content ng-controller="page2Ctrl">
            <p>这是第二个页面</p>
            <p>{{message}}</p>
            <p><a ui-sref='view1'>to page1</a></p>
            <br>
            <p><a href="#page1">tp page1</a></p>
            <br>                                                        <!--go是主控制器中scope的函数-->
            <p><button class="button button-balanced button-outline" ng-click="go('view1')">go page1</button></p>
        </ion-content>
    </ion-view>
</script>

</body>
</html>