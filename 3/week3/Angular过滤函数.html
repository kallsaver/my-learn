<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<script src="js/angular.min.js"></script>
<script src="js/jquery-3.1.0.min.js"></script>
<script>

	var myapp=angular.module("myapp",[])
	//mytable是控制器的名字 这个控制器是在myapp这个模板中的，控制器是函数,$scopt的所有属性，都可以自动被视图访问
	.controller("mytable",function($scope){
		$scope.data=[
			{title:"小米",price:1999.00,os:"android",birthday:new Date(),quantity: 2,src:"images/TB1_50x50.jpg"},
            {title:"华为",price:3999.00,os:"android",birthday:new Date(),quantity: 1,src:"images/TB2_50x50.jpg"},
            {title:"三星Note7",price:999.00,os:"android",birthday:new Date(),quantity: 1,src:"images/TB3_50x50.jpg"},
            {title:"苹果",price:5999.00,os:"ios",birthday:new Date(),quantity: 1,src:"images/TB4_50x50.jpg"}
		]
		
		//$scope里面的东西都是可以被视图读到的  过滤器的参数是函数的话 可以利用$scope这个特征 调用$scope的函数 
		//指令中的k传入kd
		$scope.filterByPrice=function(kd){
			//返回真或者假
			//return true 全部展示 return false全部不展示
			//return true
			return kd.price>=1000&&kd.price<=4000
		}
	})
	
	//alert(1)
</script>
</head>

<body ng-app="myapp">
<div class="container">
	<div class="panel panel-primary">
    	<div class="panel-heading text-center"><h4>商品价格表</h4></div>
        <div class="panel-body">
       		 <!--bootstrap中table-striped能是斑马线条纹 table使得适应父级的宽度 text-center能使td文字居中  th不能  th要自己设-->
        	<table class="table-bordered table-striped text-center table" ng-controller="mytable">
            	<thead>
                	<tr>
                    	<th class="text-center">#</th>
                    	<th class="text-center">商品名称</th>
                    	<th class="text-center">图片</th>
                    	<th class="text-center">单价</th>
                    	<th class="text-center">操作系统</th>
                    	<th class="text-center">出厂日期</th>
                    	<th class="text-center">购买数量</th>
                    </tr>       
                </thead>
            	<tbody>
                <!--filter过滤器可以从给定数组中选择一个子集，并将其生成一个新数组返回。这个过滤器通常用来过滤需要进行展示的元素-->
                <!--过滤器参考AngularJS权威指南-->
                <!--filter是angular在app模板中设置好的函数，与控制器并行  我们完全可以克隆一个过滤器     过滤器：参数     currency等是过滤器, ￥和filterByPrice是过滤参数 有的参数是字符串，有的是函数  函数返回值为ture展示，false不展示,例如filter:false 全部不展示-->
                <!--过滤器的本质是一个会把我们输入的内容当作参数传入进去的函数-->
                	<tr ng-repeat="k in data | filter:filterByPrice">           
                    	<td>{{$index + 1}}</td>
                        <td>{{k.title}}</td>
                        <td class="pic"><img ng-src="{{k.src}}" /></td>
                        <!--￥作为参数传给currency这个过滤器-->
                    	<td>{{k.price| currency:"￥"}}</td>
                    	<td>{{k.os| uppercase}}</td>
                    	<td>{{k.birthday| date:"yyyy年MM月dd日 HH:mm:ss"}}</td><!--自定义日期格式-->
                    	<td>{{k.quantity}}</td>        	
                    </tr>
                
                </tbody>
            	<tfoot>
           			 <tr>
                        <th class="text-center">总计</th>
                        <th class="text-center"></th>
                        <th class="text-center"></th>
                        <th class="text-center"></th>
                        <th class="text-center"></th>
                        <th class="text-center"></th>
                    </tr>
            </tfoot>
            </table>
        </div>
    </div>

</div>
</body>
</html>
<script>
	$(function(){
/*		$("td").each(function(index){
			if($(this).hasClass("pic")){
				// continue
				return true
			}
			else{
				$(this).css("paddingTop","23px")
			}
		})*/
		
		/*$("td").each(function(index){
			if(index==2){
				return true
			}
			else{
				$(this).css("paddingTop","23px")
			}
		})*/
		
/*		$("td").each(function(){
			if($(this).children().is("img")){
				return true
			}
			else{
				$(this).css("paddingTop","23px")
			}
		})*/
		
		//not 和each一样有循环的作用
		$("td").not(function(index){
			if($(this).children().is("img")){
				return true
			}
			else{
				$(this).css("paddingTop","23px")
			}
		})		
	})

</script>