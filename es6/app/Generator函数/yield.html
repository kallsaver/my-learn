<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

  </body>
  <script>
    //Generator函数是一个状态机,封装了多个内部状态
    //Generator函数有两个特征,一个是function*,一个是yield
    //G

    function* hello(){
      //yield类似于return 但是一个函数中可以有无数个yield;
      //yield是暂停的标志,会在yield语句结束时暂停
      //return是最后一个一个yield,返回的对象的done属性是true;

      yield 'hello';
      console.log('111111');
      yield 'world';
      return 'ending';
    }

    var receive = hello();

    console.log(receive.next());   //{value:'hello',done:false}
    console.log(receive.next());   //{value:'world',done:false}
    console.log(receive.next());   //{value:'ending',done:true}


    function* hello1(){
      //yield类似于return 但是一个函数中可以有无数个yield;
      //return是最后一个一个yield,返回的对象的done属性是true;
      yield 'hello';
      yield 'world';
      yield 'ending';
    }

    var a = hello1();

    console.log(a.next());   //{value:'hello',done:false}
    console.log(a.next());   //{value:'world',done:false}
    console.log(a.next());   //{value:'ending',done:false}
    console.log(a.next());   //{value:undefined,done:true}

    //惰性执行,就是暂停语句后面的语句都不会执行,包括自运行函数和运算等
    function run(){
      console.log('执行run函数');
      return 2;
    }

    function* gen(){
      yield 1;
      yield run();
    }

    var b = gen();

    console.log(b.next());     //1
    console.log(b.next());     //打印console.log('run函数执行') 2




  </script>
</html>
