<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
		<title>picker</title>
		<link rel="stylesheet" href="css/picker.css">
		<style>
			*{margin:0;padding:0}
		</style>
	</head>
	<body>
		<div id="app">
			<div v-for="item in list" style="background:peru;width:750px;margin:0 auto;height:50px;margin-bottoom:30px"
				 @click="showPicker(item.list)">{{item.name}}</div>
			<div>{{text}}</div>
		</div>
	</body>
	<script src="js/vue2.0.js"></script>
	<script src="js/vue-picker.js"></script>
	<script>
		var apiMixin = {
			data : function(){
			    return {
			      isVisible: false
			    }
  			},
		  	methods: {
		    	show : function() {
		      	vm.isVisible = true
		    },
		    hide : function() {
		      vm.isVisible = false
		    }
		  }
		}

	</script>
	<script>
		new Vue({
			el : '#app',
			data : {
				list : [
					{ 
						name : 'vue' , 
						list : [
							{
								text: '剧毒',
								value: '剧毒'
							}, 
							{
								text: '蚂蚁',
								value: '蚂蚁'
							},
							{
								text: '幽鬼',
								value: '幽鬼'
							},
							{
								text: '主宰',
								value: '主宰'
							},
							{
								text: '卡尔',
								value: '卡尔'
							},
							{
								text: '宙斯',
								value: '宙斯'
							},
							{
								text: '巫医',
								value: '巫医'
							}, {
								text: '巫妖',
								value: '巫妖'
							},
							{
								text: '神谕者',
								value: '神谕者'
							},
							{
								text: '撼地神牛',
								value: '神谕者'
							},
							{
								text: '蓝胖子',
								value: '蓝胖子'
							},
							{
								text: '水晶室女',
								value: '水晶室女'
							},
							{
								text: '莉娜',
								value: '莉娜'
							},
							{
								text: '斯拉克',
								value: '斯拉克'
							},
							{
								text: '斯拉达',
								value: '斯拉达'
							}
						]
					},
					{ 
						name : 'react',
						list : [
							{ 
								text : 'first',
								value : '1'
							},
							{ 
								text : 'second',
								value : '2'
							},
						]
					},
					{ 
						name : 'python',
						list : [
							{
								text : '数据加载中',
								value : '数据加载中'
							}
						]
					}
				],
				pickerData : [],
				text : '',
			},
			mounted : function(){
				var vm = this
			},
			methods : {
				showPicker : function (list) {
					var vm = this;
					vm.pickerData = list
					vm.picker = vm.$createPicker({
						title: 'Picker',
						data: [vm.pickerData],
						onSelect: vm.selectHandle,
						onCancel: vm.cancelHandle
					})
					vm.picker.show()
				},
				selectHandle : function(selectedVal, selectedIndex, selectedText){
					var vm = this
					var selectedVal = selectedVal[0] 
					var selectedIndex = selectedIndex[0]
					var selectedText = selectedText[0]
					vm.text = selectedText;
				},
			}
		});
		
	</script>
</html>
