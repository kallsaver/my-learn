<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{margin: 0;padding: 0}
    </style>
    <script>
        window.onload=function(){
            var cvs=document.getElementById("cvs");
            var ctx=cvs.getContext("2d");

            //这里的变量不能var在draw函数里面,如果写在里面回调函数找不到这些变量,说明回调函数是主函数的闭包,而不是子函数来的
            var x=cvs.width/2;
            var y=cvs.height/2;
            var lineWidth=20;
            var radius=Math.min(x,y)-lineWidth/2;

            function draw(fn){

                var List=[
                    {"start":-Math.PI/2,"distance":Math.PI/3,"color":"red"},
                    {"start":Math.PI/6,"distance":Math.PI/3,"color":"purple"},
                    {"start":Math.PI/2,"distance":Math.PI/3,"color":"yellow"},
                    {"start":Math.PI/3*2,"distance":Math.PI/3,"color":"teal"}
                ]


                ctx.beginPath()
                ctx.arc(x,y,radius,0,Math.PI*2)
                ctx.strokeStyle='pink'
                ctx.lineWidth=lineWidth;
                ctx.stroke()

                for(var i=0;i<List.length;i++){
                    fn&&fn(List[i].start,List[i].distance,List[i].color)
                }


            }

            draw(function(start,distance,color){
                ctx.beginPath()
                var end=start+distance;
                ctx.arc(x,y,radius,start,end)
                ctx.strokeStyle=color;
                ctx.lineWidth=lineWidth;
                ctx.stroke()
            })

        }


    </script>
</head>
<body>

<canvas id="cvs" width="400" height="400" style="margin:100px;border:1px solid #000;">
    你的浏览器版本过低,请升级

</canvas>
</body>
</html>