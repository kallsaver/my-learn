<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        *{margin: 0px;padding:0px}
        #pages{width:100vw;height: 100vh;position: absolute;}
        .page{width:100%;height: 100%;position: absolute;left: 0;top: 0;opacity: 0}
        .page_par{width:100%;height: 100%;transform: skew(-20deg);position: absolute;overflow: hidden}
        .content{width: 100%;height: 100%;transform: skew(20deg);}
        .content_img{background-size:cover ;width:100%;height: 100%;}
        .content_text{width:100%;height: 100%;background: palegreen;}

        .content_text h3{color:#fff;font-size: 30px;line-height: 50px;}
        .content_text p{color:#fff;font-size: 30px;line-height: 50px;width:200px}
        .content_img{background-image: url("img/1.jpg");}

        /*css支持classname:nth-of-type()     jquery只支持 标签名:nth-of-type()   jquery中建议用:odd :even */
        .page_par:nth-of-type(2n+1){left: -50%;}
        .page_par:nth-of-type(2n){right:-50%}


        #pages .active{opacity: 1}


    </style>
    <script src="jQuery_lib/jquery-3.1.0.js"></script>
    <script>
        $(function(){
            //first-child并不是子元素  而是数组集合中第一个元素

           /* $(".page:nth-of-type(2n+1) jquery不支持classname的这种语法 只支持标签的*/
            $(".page:even .page_par:even").children(".content").addClass("content_img").css("transform-origin","100% 0%")
            $(".page:even .page_par:odd").children(".content").addClass("content_text").css("transform-origin","0% 100%")
            $(".page:odd .page_par:even").children(".content").addClass("content_text").css("transform-origin","100% 0%")
            $(".page:odd .page_par:odd").children(".content").addClass("content_img").css("transform-origin","0% 100%")

            $(".content_img").each(function(index){

                $(this).css({"background-image": "url(img/"+(index+1)+".jpg)"})
            })

            $(".content_text").each(function(index){
                if(index%2==0){
                    $(this).append("<h3 style='padding:21% 0px 0px 35%;'>page"+(index+1)+"</h3>"+
                            "<p style='padding:0px 0px 0px 31%;'>hello world!</p>")
                }
                else{
                    $(this).append("<h3 style='padding:21% 0px 0px 58%;'>page"+(index+1)+"</h3>"+
                            "<p style='padding:0px 0px 0px 55%;'>hello world!</p>")
                }

            })
        //--------------------------------------------------------------------------------------------------

            var page=0;
            $(document).keydown(function(e){
                switch(e.keyCode){
                    case 38:
                    case 87:
                            //这里很6   slideTo(page-1)
                        slideTo("previous");
                        break;
                    case 40:
                    case 83:
                        slideTo("next");
                }
            })



            function slideTo(p){
                if(typeof(p)!="number"){
                    if(typeof(p)=="string"){
                        switch (p){
                            case "previous":p=page-1;break;
                            case "next":p=page+1;break;

                        }
                    }
                }


                if(p<0||p>=5){
                    return;
                }
                //这里很6   eq后面只能写自然数
                $(".page").eq(page).removeClass("active")
                page=p;
                $(".page").eq(page).addClass("active")
            }




        })

    </script>
</head>
<body>
    <div id="pages">
        <div class="page active">
            <div class="page_par ">
                <div class="content "></div>

            </div>
            <div class="page_par ">
                <div class="content">
                    <h3>page1</h3>
                    <p>hello world!</p>
                </div>

            </div>
        </div>

        <div class="page">
            <div class="page_par ">
                <div class="content">
                    <h3>page2</h3>
                    <p>hello world!</p>
                </div>

            </div>
            <div class="page_par ">
                <div class="content">page1</div>

            </div>
        </div>

        <div class="page">
            <div class="page_par ">
                <div class="content"></div>

            </div>
            <div class="page_par ">
                <div class="content">page1</div>

            </div>
        </div>

        <div class="page">
            <div class="page_par ">
                <div class="content"></div>

            </div>
            <div class="page_par ">
                <div class="content">page1</div>

            </div>
        </div>

        <div class="page">
            <div class="page_par ">
                <div class="content"></div>

            </div>
            <div class="page_par ">
                <div class="content">page1</div>

            </div>
        </div>




    </div>

</body>
</html>